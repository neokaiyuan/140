Makefile.build:threads_SRC += threads/palloc.c		# Page allocator.
filesys/fsutil.c:#include "threads/palloc.h"
filesys/fsutil.c:  buffer = palloc_get_page (PAL_ASSERT);
filesys/fsutil.c:  palloc_free_page (buffer);
lib/kernel/console.c:   a real example, I added a printf() call to palloc_free().
lib/kernel/console.c:   printf()               - palloc() tries to grab the lock again
lib/kernel/console.c:   palloc_free()        
lib/kernel/list.h:   source; for example, malloc.c, palloc.c, and thread.c in the
tests/threads/mlfqs-fair.c:#include "threads/palloc.h"
threads/init.c:#include "threads/palloc.h"
threads/init.c:/* -ul: Maximum number of pages to put into palloc's user pool. */
threads/init.c:  palloc_init (user_page_limit);
threads/init.c:  pd = init_page_dir = palloc_get_page (PAL_ASSERT | PAL_ZERO);
threads/init.c:          pt = palloc_get_page (PAL_ASSERT | PAL_ZERO);
threads/malloc.c:#include "threads/palloc.h"
threads/malloc.c:      a = palloc_get_multiple (0, page_cnt);
threads/malloc.c:      a = palloc_get_page (0);
threads/malloc.c:              palloc_free_page (a);
threads/malloc.c:          palloc_free_multiple (a, a->free_cnt);
threads/palloc.c:#include "threads/palloc.h"
threads/palloc.c:palloc_init (size_t user_page_limit)
threads/palloc.c:palloc_get_multiple (enum palloc_flags flags, size_t page_cnt)
threads/palloc.c:        PANIC ("palloc_get: out of pages");
threads/palloc.c:palloc_get_page (enum palloc_flags flags) 
threads/palloc.c:  return palloc_get_multiple (flags, 1);
threads/palloc.c:palloc_free_multiple (void *pages, size_t page_cnt) 
threads/palloc.c:palloc_free_page (void *page) 
threads/palloc.c:  palloc_free_multiple (page, 1);
threads/palloc.h:enum palloc_flags
threads/palloc.h:void palloc_init (size_t user_page_limit);
threads/palloc.h:void *palloc_get_page (enum palloc_flags);
threads/palloc.h:void *palloc_get_multiple (enum palloc_flags, size_t page_cnt);
threads/palloc.h:void palloc_free_page (void *);
threads/palloc.h:void palloc_free_multiple (void *, size_t page_cnt);
threads/palloc.h:#endif /* threads/palloc.h */
threads/thread.c:#include "threads/palloc.h"
threads/thread.c:  t = palloc_get_page (PAL_ZERO);
threads/thread.c:     palloc().) */
threads/thread.c:      palloc_free_page (prev);
threads/thread.h:         dynamic allocation with malloc() or palloc_get_page()
threads/results:/usr/class/cs140/x86_64/bin/i586-elf-gcc -m32 -c ../../threads/palloc.c -o threads/palloc.o -g -msoft-float -O -fno-stack-protector -nostdinc -I../.. -I../../lib -I../../lib/kernel -Wall -W -Wstrict-prototypes -Wmissing-prototypes -Wsystem-headers  -MMD -MF threads/palloc.d
threads/results:ld -melf_i386 -T threads/kernel.lds.s -o kernel.o threads/start.o threads/init.o threads/thread.o threads/switch.o threads/interrupt.o threads/intr-stubs.o threads/synch.o threads/palloc.o threads/malloc.o devices/pit.o devices/timer.o devices/kbd.o devices/vga.o devices/serial.o devices/block.o devices/partition.o devices/ide.o devices/input.o devices/intq.o devices/rtc.o devices/shutdown.o devices/speaker.o lib/debug.o lib/random.o lib/stdio.o lib/stdlib.o lib/string.o lib/arithmetic.o lib/ustar.o lib/kernel/debug.o lib/kernel/list.o lib/kernel/bitmap.o lib/kernel/hash.o lib/kernel/console.o lib/kernel/fixed-point.o tests/threads/tests.o tests/threads/alarm-wait.o tests/threads/alarm-simultaneous.o tests/threads/alarm-priority.o tests/threads/alarm-zero.o tests/threads/alarm-negative.o tests/threads/priority-change.o tests/threads/priority-donate-one.o tests/threads/priority-donate-multiple.o tests/threads/priority-donate-multiple2.o tests/threads/priority-donate-nest.o tests/threads/priority-donate-sema.o tests/threads/priority-donate-lower.o tests/threads/priority-fifo.o tests/threads/priority-preempt.o tests/threads/priority-sema.o tests/threads/priority-condvar.o tests/threads/priority-donate-chain.o tests/threads/mlfqs-load-1.o tests/threads/mlfqs-load-60.o tests/threads/mlfqs-load-avg.o tests/threads/mlfqs-recent-1.o tests/threads/mlfqs-fair.o tests/threads/mlfqs-block.o
threads/build/tests/threads/mlfqs-fair.d:  ../../threads/palloc.h ../../threads/synch.h ../../lib/kernel/list.h \
Binary file threads/build/tests/threads/mlfqs-fair.o matches
threads/build/threads/init.d:  ../../threads/malloc.h ../../threads/palloc.h ../../threads/pte.h \
Binary file threads/build/threads/init.o matches
threads/build/threads/thread.d:  ../../threads/intr-stubs.h ../../threads/palloc.h \
Binary file threads/build/threads/thread.o matches
threads/build/threads/palloc.d:threads/palloc.o: ../../threads/palloc.c ../../threads/palloc.h \
Binary file threads/build/threads/palloc.o matches
threads/build/threads/malloc.d:  ../../lib/string.h ../../threads/palloc.h ../../threads/synch.h \
Binary file threads/build/threads/malloc.o matches
threads/build/Makefile:threads_SRC += threads/palloc.c		# Page allocator.
Binary file threads/build/kernel.o matches
Binary file threads/build/kernel.bin matches
threads/GRADE:/usr/class/cs140/x86_64/bin/i586-elf-gcc -m32 -c ../../threads/palloc.c -o threads/palloc.o -g -msoft-float -O -fno-stack-protector -nostdinc -I../.. -I../../lib -I../../lib/kernel -Wall -W -Wstrict-prototypes -Wmissing-prototypes -Wsystem-headers  -MMD -MF threads/palloc.d
threads/GRADE:ld -melf_i386 -T threads/kernel.lds.s -o kernel.o threads/start.o threads/init.o threads/thread.o threads/switch.o threads/interrupt.o threads/intr-stubs.o threads/synch.o threads/palloc.o threads/malloc.o devices/pit.o devices/timer.o devices/kbd.o devices/vga.o devices/serial.o devices/block.o devices/partition.o devices/ide.o devices/input.o devices/intq.o devices/rtc.o devices/shutdown.o devices/speaker.o lib/debug.o lib/random.o lib/stdio.o lib/stdlib.o lib/string.o lib/arithmetic.o lib/ustar.o lib/kernel/debug.o lib/kernel/list.o lib/kernel/bitmap.o lib/kernel/hash.o lib/kernel/console.o lib/kernel/fixed-point.o tests/threads/tests.o tests/threads/alarm-wait.o tests/threads/alarm-simultaneous.o tests/threads/alarm-priority.o tests/threads/alarm-zero.o tests/threads/alarm-negative.o tests/threads/priority-change.o tests/threads/priority-donate-one.o tests/threads/priority-donate-multiple.o tests/threads/priority-donate-multiple2.o tests/threads/priority-donate-nest.o tests/threads/priority-donate-sema.o tests/threads/priority-donate-lower.o tests/threads/priority-fifo.o tests/threads/priority-preempt.o tests/threads/priority-sema.o tests/threads/priority-condvar.o tests/threads/priority-donate-chain.o tests/threads/mlfqs-load-1.o tests/threads/mlfqs-load-60.o tests/threads/mlfqs-load-avg.o tests/threads/mlfqs-recent-1.o tests/threads/mlfqs-fair.o tests/threads/mlfqs-block.o
userprog/gdt.c:#include "threads/palloc.h"
userprog/pagedir.c:#include "threads/palloc.h"
userprog/pagedir.c:  uint32_t *pd = palloc_get_page (0);
userprog/pagedir.c:            palloc_free_page (pte_get_page (*pte));
userprog/pagedir.c:        palloc_free_page (pt);
userprog/pagedir.c:  palloc_free_page (pd);
userprog/pagedir.c:          pt = palloc_get_page (PAL_ZERO);
userprog/pagedir.c:   with palloc_get_page().
userprog/process.c:#include "threads/palloc.h"
userprog/process.c:  fn_copy = palloc_get_page (0);
userprog/process.c:    palloc_free_page (fn_copy); 
userprog/process.c:  palloc_free_page (file_name);
userprog/process.c:      uint8_t *kpage = palloc_get_page (PAL_USER);
userprog/process.c:          palloc_free_page (kpage);
userprog/process.c:          palloc_free_page (kpage);
userprog/process.c:  kpage = palloc_get_page (PAL_USER | PAL_ZERO);
userprog/process.c:        palloc_free_page (kpage);
userprog/process.c:   with palloc_get_page().
userprog/tss.c:#include "threads/palloc.h"
userprog/tss.c:  tss = palloc_get_page (PAL_ASSERT | PAL_ZERO);
Binary file userprog/.process.c.swp matches
